{% extends "base.html" %}

{% block title %}{{ action }} Biodiversity Data - ForesToFuture{% endblock %}

{% block navigation %}
<nav class="top-right-nav">
    <a href="{{ url_for('admin_dashboard') }}">Dashboard</a>
    <a href="{{ url_for('admin_biodiversity') }}">Back to Data</a>
    <a href="{{ url_for('admin_countries') }}">Manage Countries</a>
    <a href="{{ url_for('admin_logout') }}">Logout</a>
</nav>
{% endblock %}

{% block content %}
<div class="content">
    <h1>{{ action }} Biodiversity Data</h1>
    <p>{{ action }} biodiversity and ecosystem health statistics. You can add a new country directly below or <a href="{{ url_for('admin_countries') }}" style="color: #4caf50; text-decoration: underline;">manage countries here</a>.</p>

    <div class="contactForm card-form" style="max-width: 800px; margin: 30px auto;">
        <form method="POST">
            {{ form.hidden_tag() }}

            <h2>Biodiversity Data Form</h2>

            <div class="inputBox">
                {{ form.country_name.label }}
                {{ form.country_name(class="form-control", placeholder="Enter country name (existing or new)") }}
                {% if form.country_name.errors %}
                    <span style="color: #f44336;">{{ form.country_name.errors[0] }}</span>
                {% endif %}
                <small style="color: rgba(255,255,255,0.7); display: block; margin-top: 5px;">
                    üí° Type a country name. If it doesn't exist, it will be created automatically.
                </small>
            </div>

            <div class="inputBox">
                {{ form.year.label }}
                {{ form.year(class="form-control") }}
                {% if form.year.errors %}
                    <span style="color: #f44336;">{{ form.year.errors[0] }}</span>
                {% endif %}
            </div>

            <div class="inputBox">
                {{ form.affected_species.label }}
                {{ form.affected_species(class="form-control") }}
                {% if form.affected_species.errors %}
                    <span style="color: #f44336;">{{ form.affected_species.errors[0] }}</span>
                {% endif %}
            </div>

            <div class="inputBox">
                {{ form.ecosystem_health_index.label }}
                {{ form.ecosystem_health_index(class="form-control", step="0.1") }}
                {% if form.ecosystem_health_index.errors %}
                    <span style="color: #f44336;">{{ form.ecosystem_health_index.errors[0] }}</span>
                {% endif %}
            </div>

            <div class="inputBox">
                {{ form.submit(class="submit-btn") }}
            </div>
        </form>
        
        <div style="text-align: center; margin-top: 15px;">
            <a href="{{ url_for('admin_biodiversity') }}" style="color: #4caf50; text-decoration: none;">‚Üê Back to Biodiversity Data</a>
        </div>
    </div>
</div>

<style>
.inputBox input[type="text"],
.inputBox input[type="number"] {
    width: 100%;
    padding: 12px;
    background: rgba(255,255,255,0.1);
    border: 2px solid #2f5d34;
    border-radius: 8px;
    color: white;
    font-size: 16px;
}

.inputBox label {
    display: block;
    margin-bottom: 8px;
    color: #4caf50;
    font-weight: bold;
}

.form-control {
    width: 100%;
}

small {
    font-size: 13px;
}
</style>
{% endblock %}